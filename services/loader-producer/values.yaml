# values.yaml for loader-producer

isJob: true

image:
  repository: registry.dmz.home/kinga/stream-forge/loader-producer
  tag: 1.0.0 # Initial version

env:
  # Common Kafka and API variables will be inherited from the base chart
  # Specific variables for loader-producer
  - name: SYMBOL
    value: "BTCUSDT" # Example, will be set by queue-manager
  - name: TYPE
    value: "api_candles_1m" # Example, will be set by queue-manager
  - name: TIME_RANGE
    value: "2024-01-01:2024-01-02" # Example, will be set by queue-manager
  - name: INTERVAL
    value: "1h" # Example, will be set by queue-manager
  - name: KAFKA_TOPIC
    value: "loader-producer-data" # Example, will be set by queue-manager
  - name: TELEMETRY_PRODUCER_ID
    value: "loader-producer-instance" # Example, will be set by queue-manager

serviceAccount:
  rbac:
    rules:
      # Minimal permissions for a loader-producer
      - apiGroups: [""]
        resources: ["pods"]
        verbs: ["get", "list"]
      - apiGroups: [""]
        resources: ["configmaps", "secrets"]
        verbs: ["get"]
      - apiGroups: ["kafka.strimzi.io"]
        resources: ["kafkatopics", "kafkausers"]
        verbs: ["get", "list"]
